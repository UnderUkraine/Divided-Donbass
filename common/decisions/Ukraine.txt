UKR_Maidan_Support_category = {
	yanukovich_overthrow = {
		icon = mission_icon
		is_good = yes
		days_mission_timeout = 52 #52 to February 22
		selectable_mission = no
		fire_only_once = yes
		available = {
			always = no
		}
		activation = {
			#has_country_leader = {
            #    character = victor_yanukovich
			#}
			always = yes
		}
		timeout_effect = {
			country_event = ukraine.2
			set_variable = { UKR.dpr_support = 45 }
			set_variable = { UKR.lpr_support = 45 }
			set_variable = { UKR.kpr_support = 35 }
			set_variable = { UKR.opr_support = 25 }

			hidden_effect = {
			news_event = news.7
			UKR = {
				set_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_DPR
				set_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_LPR
				set_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_OPR
				set_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_KPR
				
				retire_country_leader = yes

				set_politics = {
				    ruling_party = conservatism_democratic
				    elections_allowed = no
			    }
				remove_ideas = {
					UKR_protests
					UKR_oligarhy_autocraty
					UKR_cooperation_russia
				}
				load_focus_tree = ukraine_focus
			}
			RUS = {
				country_event = russia.1
			}
		}
	}
}
}

UKR_Separatists_in_Ukraine = {
	donetsk_uprising = {
		icon = GFX_flag_of_dpr
		is_good = yes
		days_mission_timeout = 47 #47 days from Maidan to start of ATO
		selectable_mission = no
		fire_only_once = yes
		available = {
			always = no
		}
		activation = {
			has_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_DPR
		}
		visible = {
			has_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_DPR
		}
		timeout_effect = {
			UKR = {
				country_event = super.1
			}

			hidden_effect = {
                IF = {
					limit = {
						has_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_DPR
					}
					clr_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_DPR
					if = {
						limit = {
							NOT = {
							    has_global_flag = UKR_ATO_Started
							}
						}
                        set_global_flag = UKR_ATO_Started
						mark_focus_tree_layout_dirty = yes

						RUS = {
							activate_decision = RUS_end_the_war
						}
					}
					UKR = {
						add_dynamic_modifier = {
							modifier = Escalation_modifier
						}
					}
					IF = {
						limit = {
							check_variable = {
								var = UKR.dpr_support
								value = 20
								compare = greater_than
							}
						}

						ukraine_rebel_dpr_1 = yes
					}
				}
			}
		}
	}
	luhansk_uprising = {
		icon = GFX_flag_of_lpr
		is_good = yes
		days_mission_timeout = 60 #27 april luhansk pr (60 days)
		selectable_mission = no
		fire_only_once = yes
		available = {
			always = no
		}
		activation = {
			has_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_LPR
		}
		visible = {
			has_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_LPR
		}
		timeout_effect = {
			hidden_effect = {
				IF = {
					limit = {
						has_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_LPR
					}
					clr_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_LPR
					if = {
						limit = {
							NOT = {
							    has_global_flag = UKR_ATO_Started
							}
						}
						set_global_flag = UKR_ATO_Started
						mark_focus_tree_layout_dirty = yes

						RUS = {
							activate_decision = RUS_end_the_war
						}
					}
				LPR = {
					add_dynamic_modifier = {
						modifier = Escalation_modifier
					}
				}
					IF = {
						limit = {
							check_variable = {
								var = UKR.lpr_support
								value = 20
								compare = greater_than
							}
						}

						ukraine_rebel_lpr_1 = yes
					}
				}
			}
		}
	}
	Kharkiv_uprising = {
		icon = GFX_flag_of_kpr
		is_good = yes
		days_mission_timeout = 40 #7 апреля могли восстать (40 days)
		selectable_mission = no
		fire_only_once = yes
		available = {
			always = no
		}
		activation = {
			has_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_KPR
		}
		visible = {
			has_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_KPR
		}
		timeout_effect = {
			hidden_effect = {
				IF = {
					limit = {
						has_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_KPR
					}
					clr_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_KPR
					if = {
						limit = {
							NOT = {
							    has_global_flag = UKR_ATO_Started
							}
						}
                        set_global_flag = UKR_ATO_Started
						mark_focus_tree_layout_dirty = yes

						RUS = {
							activate_decision = RUS_end_the_war
						}
					}
				KPR = {
					add_dynamic_modifier = {
						modifier = Escalation_modifier
					}
				}

					IF = {
						limit = {
							check_variable = {
								var = UKR.kpr_support
								value = 20
								compare = greater_than
							}
						}

						ukraine_rebel_kpr_1 = yes

						else_if = {
							limit = { check_variable = { var = UKR.kpr_support value = 19 compare = less_than } }

							country_event = ukraine.21
						}
					}
				}
			}
		}
	}
	Odessa_uprising = {
		icon = GFX_flag_of_opr
		is_good = yes
		days_mission_timeout = 67 #4 мая могли восстать (67 days)
		selectable_mission = no
		fire_only_once = yes
		available = {
			always = no
		}
		activation = {
			has_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_OPR
		}
		visible = {
			has_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_OPR
		}
		timeout_effect = {
			hidden_effect = {
				IF = {
					limit = {
						has_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_OPR
					}
				clr_global_flag = UKR_Yanukovich_After_Overthrow_Crisis_OPR
				if = {
					limit = {
						NOT = {
							has_global_flag = UKR_ATO_Started
						}
					}
                    set_global_flag = UKR_ATO_Started
					mark_focus_tree_layout_dirty = yes

					RUS = {
						activate_decision = RUS_end_the_war
					}
				}
					IF = {
						limit = {
							check_variable = {
								var = UKR.opr_support
								value = 20
								compare = greater_than
							}
						}

						ukraine_rebel_opr_1 = yes

						else_if = {
							limit = { check_variable = { var = UKR.opr_support value = 19 compare = less_than } }

							country_event = ukraine.20
						}
					}
				}
			}
		}
	}

	RUS_end_the_war = {
		icon = GFX_flag_of_dpr
		is_good = yes
		days_mission_timeout = 151
		selectable_mission = no
		fire_only_once = yes
		available = {
			custom_trigger_tooltip = {
				tooltip = Separatists_won_tt
				has_global_flag = Separatists_won
			}
		}
		allowed = {
			tag = RUS
		}
		activation = {
			always = no
		}
		timeout_effect = {
			RUS = {
			    country_event = russia.3
			}
		}
	}
}

UKR_arms_deconservation = {
	UKR_deconservation_bmp_1 = {
		allowed = {
            tag = UKR
        }
        visible = {
			always = yes
        }
        available = {
			always = yes
        }
        icon = GFX_icon_of_VSY_decision
        priority = 10
        days_re_enable = 1
        complete_effect = {
			add_equipment_to_stockpile = {
				type = bbm_chassis_0
				variant_name = "БМП-1"
				amount = 150
				producer = UKR
			}
		}
	}
	UKR_deconservation_bmp_2 = {
		allowed = {
            tag = UKR
        }
        visible = {
			always = yes
        }
        available = {
			always = yes
        }
        icon = GFX_icon_of_VSY_decision
        priority = 10
        days_re_enable = 1
        complete_effect = {
		}
	}
	UKR_deconservation_btr_60 = {
		allowed = {
            tag = UKR
        }
        visible = {
			always = yes
        }
        available = {
			always = yes
        }
        icon = GFX_icon_of_VSY_decision
        priority = 10
        days_re_enable = 1
        complete_effect = {
			add_equipment_to_stockpile = {
				type = btr1_chassis_0
				variant_name = "БТР-60"
				amount = 100
				producer = UKR
			}
		}
	}
	UKR_deconservation_btr_70 = {
		allowed = {
            tag = UKR
        }
        visible = {
			always = yes
        }
        available = {
			always = yes
        }
        icon = GFX_icon_of_VSY_decision
        priority = 10
        days_re_enable = 1
        complete_effect = {
			add_equipment_to_stockpile = {
				type = btr1_chassis_1_1
				variant_name = "БТР-70"
				amount = 200
				producer = UKR
			}
		}
	}
	UKR_deconservation_btr_80 = {
		allowed = {
            tag = UKR
        }
        visible = {
			always = yes
        }
        available = {
			always = yes
        }
        icon = GFX_icon_of_VSY_decision
        priority = 10
        days_re_enable = 1
        complete_effect = {
			add_equipment_to_stockpile = {
				type = btr1_chassis_1_2
				variant_name = "БТР-80"
				amount = 150
				producer = UKR
			}
		}
	}
	UKR_deconservation_t64 = {
		allowed = {
            tag = UKR
        }
        visible = {
			always = yes
        }
        available = {
			always = yes
        }
        icon = GFX_icon_of_VSY_decision
        priority = 10
        days_re_enable = 1
        complete_effect = {
			add_equipment_to_stockpile = {
				type = tank_chassis_2
				variant_name = "Т-64Б"
				amount = 80
				producer = UKR
			}
			add_equipment_to_stockpile = {
				type = tank_chassis_2_1
				variant_name = "Т-64БВ"
				amount = 170
				producer = UKR
			}
		}
	}
	UKR_deconservation_t72 = {
		allowed = {
            tag = UKR
        }
        visible = {
			always = yes
        }
        available = {
			always = yes
        }
        icon = GFX_icon_of_VSY_decision
        priority = 10
        days_re_enable = 1
        complete_effect = {
			add_equipment_to_stockpile = {
				type = tank_chassis_2_1
				variant_name = "Т-72Б"
				amount = 100
				producer = RUS
			}
			add_equipment_to_stockpile = {
				type = tank_chassis_2
				variant_name = "Т-72А"
				amount = 25
				producer = RUS
			}
		}
	}
	UKR_deconservation_t80 = {
		allowed = {
            tag = UKR
        }
        visible = {
			always = yes
        }
        available = {
			always = yes
        }
        icon = GFX_icon_of_VSY_decision
        priority = 10
        days_re_enable = 1
        complete_effect = {
			add_equipment_to_stockpile = {
				type = tank_chassis_3
				variant_name = "Т-80БВ"
				amount = 50
				producer = UKR
			}
		}
	}
	UKR_deconservation_d30 = {
		allowed = {
            tag = UKR
        }
        visible = {
			always = yes
        }
		available = {
			always = no
	    }
        icon = GFX_icon_of_VSY_decision
        priority = 10
        days_re_enable = 1
        complete_effect = {
		}
	}
	UKR_deconservation_2s1 = {
		allowed = {
            tag = UKR
        }
        visible = {
			always = yes
        }
		available = {
			always = no
	    }
        icon = GFX_icon_of_VSY_decision
        priority = 10
        days_re_enable = 1
        complete_effect = {
		}
	}
	UKR_deconservation_2s3 = {
		allowed = {
            tag = UKR
        }
        visible = {
			always = yes
        }
		available = {
			always = no
	    }
        icon = GFX_icon_of_VSY_decision
        priority = 10
        days_re_enable = 1
        complete_effect = {
		}
	}
	UKR_deconservation_bm21 = {
		allowed = {
            tag = UKR
        }
        visible = {
			always = yes
        }
		available = {
			always = no
	    }
        icon = GFX_icon_of_VSY_decision
        priority = 10
        days_re_enable = 1
        complete_effect = {
		}
	}
	UKR_deconservation_gas66 = {
		allowed = {
            tag = UKR
        }
        visible = {
			always = yes
        }
        available = {
			always = yes
        }
        icon = GFX_icon_of_VSY_decision
        priority = 10
        days_re_enable = 1
        complete_effect = {
			add_equipment_to_stockpile = {
				type = truck_chassis_0
				variant_name = "ГАЗ-66"
				amount = 450
				producer = UKR
			}
		}
	}
	UKR_deconservation_kraz = {
		allowed = {
            tag = UKR
        }
        visible = {
			always = yes
        }
        available = {
			always = yes
        }
        icon = GFX_icon_of_VSY_decision
        priority = 10
        days_re_enable = 1
        complete_effect = {
		}
	}
}

UKR_SBU_operations = {
	UKR_SBU_test_1 = {
		allowed = {
            tag = UKR
        }
        visible = {
			always = yes
        }
        available = {
        }
        icon = GFX_sbu_icon_decision
        priority = 10
        days_re_enable = 1
        complete_effect = {
		}
	}
}

UKR_Negotations = {
	RUS_pressure_Ukraine_to_sign_new_peace = {
		allowed = {
            tag = RUS
        }
        visible = {
			has_global_flag = global_minsk_one_failed
        }
        available = {
			has_global_flag = global_minsk_one_failed
        }
        icon = GFX_Ukraine_and_russia_gerbs_decision
		ai_will_do = {
			modifier = {
				add = 40
			}
		}
        priority = 10
		fire_only_once = yes
		days_remove = 55 #55 days??
		cost = 100
        remove_effect = {
			set_global_flag = global_russia_minsk_two_signed

			UKR = {
				country_event = ukraine.14
			}
		}
	}
	RUS_accept_minsk_2 = {
		allowed = {
            tag = RUS
        }
        visible = {
			always = no
        }
        available = {
        }
        icon = GFX_Ukraine_and_russia_gerbs_decision
        priority = 10
        days_re_enable = 1
        complete_effect = {
			set_global_flag = global_russia_minsk_two_signed
			if = {
				limit = {
					has_global_flag = global_ukraine_minsk_two_signed
				}
				#TODO MINSK BORDERS
				news_event = news.1
			}
		}
	}

	UKR_invite_UN_representatives = {
		allowed = {
            tag = UKR
        }
        visible = {
			has_country_flag = UKR_Convene_the_international_community_flag
        }
        available = {
        }
        icon = GFX_Ukraine_and_russia_gerbs_decision
        priority = 10
		days_remove = 10
		fire_only_once = yes
		cost = 25
        remove_effect = {
            country_event = ukraine.23

			add_to_variable = {
				var = global.peace_progress_minsk
				value = 5
				tooltip = Peace_progress_plus_five_tt
			}
		}
	}
	UKR_invite_OSCE_representatives = {
		allowed = {
            tag = UKR
        }
        visible = {
			has_country_flag = UKR_Convene_the_international_community_flag
        }
        available = {
        }
        icon = GFX_Ukraine_and_russia_gerbs_decision
        priority = 10
		days_remove = 10
		fire_only_once = yes
		cost = 25
        remove_effect = {
			country_event = ukraine.24

			add_to_variable = {
				var = global.peace_progress_minsk
				value = 5
				tooltip = Peace_progress_plus_five_tt
			}
		}
	}
	UKR_invite_NATO_representatives = {
		allowed = {
            tag = UKR
        }
        visible = {
			has_country_flag = UKR_Convene_the_international_community_flag
        }
        available = {
        }
        icon = GFX_Ukraine_and_russia_gerbs_decision
        priority = 10
		days_remove = 10
		fire_only_once = yes
		cost = 25
        remove_effect = {
			country_event = ukraine.25

			add_to_variable = {
				var = global.peace_progress_minsk
				value = 5
				tooltip = Peace_progress_plus_five_tt
			}
		}
	}
	UKR_invite_EU_representatives = {
		allowed = {
            tag = UKR
        }
        visible = {
			has_country_flag = UKR_Convene_the_international_community_flag
        }
        available = {
        }
        icon = GFX_Ukraine_and_russia_gerbs_decision
        priority = 10
		days_remove = 10
		fire_only_once = yes
		cost = 25
        remove_effect = {
			country_event = ukraine.26

			add_to_variable = {
				var = global.peace_progress_minsk
				value = 5
				tooltip = Peace_progress_plus_five_tt
			}
		}
	}
}